---
import { HeroSchema } from "../lib/form-builder/schemas/hero.schema.tsx";
import type { SchemaProps } from "../lib/schema-props";
import { getSchemaProps } from "../lib/schema-props";
import RichEditorRenderer from "./RichEditorRenderer";

export type Props = SchemaProps<typeof HeroSchema>;

// Use getSchemaProps() for proper type inference and validation
const props = getSchemaProps(HeroSchema, Astro.props);

const {
    title = "Welcome to Capsulo",
    subtitle = "A content management system for developers",
    description,
    ctaButton = "Get Started",
    ctaLinkType = "internal",
    ctaLink = "/admin",
} = props;
---

<section id="hero">
    <div
        class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-6"
    >
        <div class="max-w-4xl mx-auto text-center space-y-8">
            <h1
                class="text-5xl md:text-6xl font-bold text-gray-900 dark:text-white leading-tight"
            >
                {title}
            </h1>

            {
                subtitle && (
                    <p class="text-xl md:text-2xl text-gray-700 dark:text-gray-300 max-w-2xl mx-auto">
                        {subtitle}
                    </p>
                )
            }

            {
                description && (
                    <div class="text-lg text-gray-600 dark:text-gray-400 max-w-3xl mx-auto">
                        <RichEditorRenderer value={description} client:load />
                    </div>
                )
            }

            {
                ctaButton && (
                    <div class="pt-4">
                        <a
                            href={ctaLink}
                            class="inline-flex items-center justify-center rounded-lg bg-indigo-600 px-8 py-4 text-lg font-semibold text-white hover:bg-indigo-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 transition-all duration-200"
                        >
                            {ctaButton}
                        </a>
                    </div>
                )
            }
        </div>
    </div>
</section>
